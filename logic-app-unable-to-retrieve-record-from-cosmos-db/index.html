<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Logic App: Unable to retrieve record from Cosmos DB. - Mike Hacker | Microsoft Azure Application Innovation Specialist</title><meta name="description" content="Recently while I was working on a customer demo I ran into a bit of an issue when trying to&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://blog.mikehacker.net/logic-app-unable-to-retrieve-record-from-cosmos-db/"><link rel="alternate" type="application/atom+xml" href="https://blog.mikehacker.net/feed.xml"><link rel="alternate" type="application/json" href="https://blog.mikehacker.net/feed.json"><meta property="og:title" content="Logic App: Unable to retrieve record from Cosmos DB."><meta property="og:image" content="https://blog.mikehacker.net/media/posts/71/LogicApps-3.jpg"><meta property="og:image:width" content="1024"><meta property="og:image:height" content="546"><meta property="og:site_name" content="Mike Hacker | Microsoft Azure Application Innovation Specialist"><meta property="og:description" content="Recently while I was working on a customer demo I ran into a bit of an issue when trying to&hellip;"><meta property="og:url" content="https://blog.mikehacker.net/logic-app-unable-to-retrieve-record-from-cosmos-db/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@mphacker"><meta name="twitter:title" content="Logic App: Unable to retrieve record from Cosmos DB."><meta name="twitter:description" content="Recently while I was working on a customer demo I ran into a bit of an issue when trying to&hellip;"><meta name="twitter:image" content="https://blog.mikehacker.net/media/posts/71/LogicApps-3.jpg"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://blog.mikehacker.net/assets/css/fontawesome-all.min.css?v=bbcde81f26378440dac4c3d195714389"><link rel="stylesheet" href="https://blog.mikehacker.net/assets/css/style.css?v=e9929cdeecbf56fadffc811c79c0aacf"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.mikehacker.net/logic-app-unable-to-retrieve-record-from-cosmos-db/"},"headline":"Logic App: Unable to retrieve record from Cosmos DB.","datePublished":"2023-05-11T08:55","dateModified":"2023-05-11T08:58","image":{"@type":"ImageObject","url":"https://blog.mikehacker.net/media/posts/71/LogicApps-3.jpg","height":546,"width":1024},"description":"Recently while I was working on a customer demo I ran into a bit of an issue when trying to&hellip;","author":{"@type":"Person","name":"Mike Hacker","url":"https://blog.mikehacker.net/authors/mike-hacker/"},"publisher":{"@type":"Organization","name":"Mike Hacker"}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-41PP7CMZEN"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-41PP7CMZEN');</script></head><body class="is-preload"><div id="wrapper"><div id="main"><div class="inner"><header id="header"><a class="logo" href="https://blog.mikehacker.net/"><strong>Mike Hacker | Microsoft Azure Application Innovation Specialist</strong></a><ul class="icons"><li><a href="https://twitter.com/mphacker" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li><li><a href="https://www.linkedin.com/in/mphacker/" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li><li><a href="https://www.youtube.com/user/windowsazure" class="icon brands fa-youtube"><span class="label">YouTube</span></a></li></ul></header><article class="post"><header class="main post__header"><time datetime="2023-05-11T08:55" class="post__date">May 11, 2023</time><h1>Logic App: Unable to retrieve record from Cosmos DB.</h1></header><figure class="image main normal"><img src="https://blog.mikehacker.net/media/posts/71/LogicApps-3.jpg" srcset="https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-xs.jpg 300w, https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-sm.jpg 480w, https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-md.jpg 768w, https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-lg.jpg 1024w, https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-xl.jpg 1360w, https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-xxl.jpg 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="lazy" height="546" width="1024" alt="Purple and blue artistic circles"></figure><div class="post__inner post__entry"><p>Recently while I was working on a customer demo I ran into a bit of an issue when trying to delete a record from a Cosmos DB using Logic Apps.  I kept receiving an error indicating that the document id I was specifying didn't exist even though I could see it was in the database. I was also running into similar issues when trying to retrieve a specific document from the database.</p><p>The Logic Apps actions I was using included the <em>Delete a document (V2) and Get a document (V2).  </em></p><p>I searched through documentation and found nothing that seemed to give any clear indication as to what the error was. I did some searches using Bing and found other folks who were having similar challenges but I didn't run across any one specific way to fix it. Everyone seemed to just be guessing as to what the issue was. </p><p>In those actions, there are required fields which include Cosmos DB account name, database ID, Collection ID and Document ID.  In most cases you will need to also add the parameter Partition key value in order for the delete or get actions to find the proper document.  In my database, the Document ID and Partition key values are the same. </p><p>My Logic app is acting as a REST API to do basic CRUD (create, read, update and delete) operations.  When a client calls the REST API it passes in a value which is stored as the variable id, which represents the id of the document I wish to get or delete.  Originally I was just taking that id variable and placing it in both the Document ID and partition key value fields in the Logic Apps action. As logical as that sounds, this did not work and I kept getting errors related to the document not being found.</p><p>So what ultimately fixed the issue?  The Partition key value needs to be surrounded by double quotes.  That's it.  Once I placed double quotes around this field, my Logic Apps started functioning correctly.</p><p>Hopefully this little nugget of information comes in handy for someone else who is running into similar challenges with the Cosmos DB actions for Logic Apps.</p><p> </p><p> </p></div><footer class="post__inner post__footer"><p class="post__last-updated">This article was updated on May 11, 2023</p><div class="post__share"><h3>Share post:</h3><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fblog.mikehacker.net%2Flogic-app-unable-to-retrieve-record-from-cosmos-db%2F" class="js-share icon brands fa-facebook-f" rel="nofollow noopener noreferrer"><span class="label">Facebook</span> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fblog.mikehacker.net%2Flogic-app-unable-to-retrieve-record-from-cosmos-db%2F&amp;via=mphacker&amp;text=Logic%20App%3A%20Unable%20to%20retrieve%20record%20from%20Cosmos%20DB." class="js-share icon brands fa-twitter" rel="nofollow noopener noreferrer"><span class="label">Twitter</span> </a><a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fblog.mikehacker.net%2Flogic-app-unable-to-retrieve-record-from-cosmos-db%2F&amp;title=Logic%20App%3A%20Unable%20to%20retrieve%20record%20from%20Cosmos%20DB." class="js-share icon brands fa-linkedin" rel="nofollow noopener noreferrer"><span class="label">LinkedIn</span></a></div><div class="post__tag"><ul><li><strong>Tagged in:</strong></li><li><a href="https://blog.mikehacker.net/tags/articles/">Articles</a></li></ul></div><div class="post__bio"><div><h3><a href="https://blog.mikehacker.net/authors/mike-hacker/" class="invert" rel="author">Mike Hacker</a></h3></div></div></footer></article><div class="comments"><div class="post__inner"><h2>Comments</h2><div id="disqus_thread"></div><script>var disqus_config = function () {
                       this.page.url = 'https://blog.mikehacker.net/logic-app-unable-to-retrieve-record-from-cosmos-db/';
               		this.page.identifier = '71';
                   };
               
                   var disqus_loaded = false;
               
                   function publiiLoadDisqus() {
                       if(disqus_loaded) {
                           return false;
                       }
               
                       var top = document.getElementById('disqus_thread').offsetTop;
               
                       if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                           disqus_loaded = true;
               
                           (function () {
                               var d = document, s = d.createElement('script');
                               s.src = 'https://'+'mike-hacker-blog'.trim()+'.disqus.com/embed.js';
                               s.setAttribute('data-timestamp', +new Date());
                               (d.head || d.body).appendChild(s);
                           })();
                       }
                   }
               
                   publiiLoadDisqus();
               
                   window.onscroll = function() {
                       publiiLoadDisqus();
                   };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener noreferrer">comments powered by Disqus.</a></noscript></div></div></div></div><div id="sidebar"><div class="inner"><nav id="menu"><header class="major"><h2>Menu</h2></header><ul><li><a href="https://blog.mikehacker.net/" target="_self">Home</a></li><li><a href="https://blog.mikehacker.net/technical-training/" target="_self">Technical Training</a></li><li><a href="https://blog.mikehacker.net/java-on-azure/" title="Java on Azure" target="_self">Java on Azure</a></li><li><a href="https://blog.mikehacker.net/tags/" target="_self">Tags</a></li><li><a href="https://blog.mikehacker.net/about/" target="_self">About</a></li></ul></nav><footer id="footer"><p class="copyright">Information presented here is the opinions<br>of the authors and does not represent an <br>official view of Microsoft.</p><p class="copyright"><a href="feed.xml" target="_blank" rel="noopener">RSS/ATOM FEED</a></p><p class="copyright">© Editorial 2 - All rights reserved<br>Design by: HTML5 UP, Powered by Publii</p></footer></div></div></div><script src="https://blog.mikehacker.net/assets/js/jquery.min.js?v=7c14a783dfeb3d238ccd3edd840d82ee"></script><script src="https://blog.mikehacker.net/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://blog.mikehacker.net/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://blog.mikehacker.net/assets/js/util.min.js?v=cbdaf7c20ac2883c77ae23acfbabd47e"></script><script src="https://blog.mikehacker.net/assets/js/main.min.js?v=448f4c9d4b4c374766a1cb76c3d88048"></script><script>var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};</script></body></html>