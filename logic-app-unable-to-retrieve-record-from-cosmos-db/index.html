<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Logic App: Unable to retrieve record from Cosmos DB. - Mike Hacker</title><meta name="description" content="Recently while I was working on a customer demo I ran into a bit of an issue when trying to delete a record from a Cosmos DB using Logic Apps. I kept receiving an error indicating that the document id I was specifying didn't exist&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://blog.mikehacker.net/logic-app-unable-to-retrieve-record-from-cosmos-db/"><link rel="alternate" type="application/atom+xml" href="https://blog.mikehacker.net/feed.xml"><link rel="alternate" type="application/json" href="https://blog.mikehacker.net/feed.json"><meta property="og:title" content="Logic App: Unable to retrieve record from Cosmos DB."><meta property="og:image" content="https://blog.mikehacker.net/media/posts/71/LogicApps-3.jpg"><meta property="og:image:width" content="1024"><meta property="og:image:height" content="546"><meta property="og:site_name" content="Mike Hacker | Azure Application Innovation Specialist"><meta property="og:description" content="Recently while I was working on a customer demo I ran into a bit of an issue when trying to delete a record from a Cosmos DB using Logic Apps. I kept receiving an error indicating that the document id I was specifying didn't exist&hellip;"><meta property="og:url" content="https://blog.mikehacker.net//logic-app-unable-to-retrieve-record-from-cosmos-db/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@mphacker"><meta name="twitter:title" content="Logic App: Unable to retrieve record from Cosmos DB."><meta name="twitter:description" content="Recently while I was working on a customer demo I ran into a bit of an issue when trying to delete a record from a Cosmos DB using Logic Apps. I kept receiving an error indicating that the document id I was specifying didn't exist&hellip;"><meta name="twitter:image" content="https://blog.mikehacker.net/media/posts/71/LogicApps-3.jpg"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:var(--body-font);--post-entry-font:var(--body-font);--logo-font:var(--body-font);--menu-font:var(--body-font)}</style><link rel="stylesheet" href="https://blog.mikehacker.net/assets/css/style.css?v=7b9e495dda279e03d082e9d13c1d7d71"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.mikehacker.net/logic-app-unable-to-retrieve-record-from-cosmos-db/"},"headline":"Logic App: Unable to retrieve record from Cosmos DB.","datePublished":"2023-05-11T08:55","dateModified":"2023-05-11T08:58","image":{"@type":"ImageObject","url":"https://blog.mikehacker.net/media/posts/71/LogicApps-3.jpg","height":546,"width":1024},"description":"Recently while I was working on a customer demo I ran into a bit of an issue when trying to delete a record from a Cosmos DB using Logic Apps. I kept receiving an error indicating that the document id I was specifying didn't exist&hellip;","author":{"@type":"Person","name":"Mike Hacker","url":"https://blog.mikehacker.net/authors/mike-hacker/"},"publisher":{"@type":"Organization","name":"Mike Hacker"}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-41PP7CMZEN"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-41PP7CMZEN');</script></head><body><header class="topbar" id="js-header"><div class="topbar__inner"><a class="logo" href="https://blog.mikehacker.net/">Mike Hacker</a><nav class="navbar"><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://blog.mikehacker.net/" target="_self">Home</a></li><li><a href="https://blog.mikehacker.net/technical-training/" target="_self">Technical Training</a></li><li><a href="https://blog.mikehacker.net/ai-training/" target="_self">AI Training</a></li><li><a href="https://blog.mikehacker.net/java-on-azure/" title="Java on Azure" target="_self">Java on Azure</a></li><li><a href="https://blog.mikehacker.net/tags/" target="_self">Tags</a></li><li><a href="https://blog.mikehacker.net/about/" target="_self">About</a></li></ul></nav></div></header><div class="content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2024-09-23T13:48">September 23, 2024</time></div></div><main class="main"><article class="post"><figure class="post__featured-image"><img src="https://blog.mikehacker.net/media/posts/71/LogicApps-3.jpg" srcset="https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-xs.jpg 300w, https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-sm.jpg 480w, https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-md.jpg 768w, https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-lg.jpg 1024w, https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-xl.jpg 1360w, https://blog.mikehacker.net/media/posts/71/responsive/LogicApps-3-2xl.jpg 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="546" width="1024" alt="Purple and blue artistic circles"></figure><header class="u-header post__header"><h1>Logic App: Unable to retrieve record from Cosmos DB.</h1><div class="u-header__meta u-small"><div><a href="https://blog.mikehacker.net/authors/mike-hacker/" title="Mike Hacker">Mike Hacker</a> <time datetime="2023-05-11T08:55">May 11, 2023 </time><a href="https://blog.mikehacker.net/tags/articles/" class="u-tag u-tag--1">Articles</a></div></div></header><div class="post__entry u-inner"><p>Recently while I was working on a customer demo I ran into a bit of an issue when trying to delete a record from a Cosmos DB using Logic Apps.  I kept receiving an error indicating that the document id I was specifying didn't exist even though I could see it was in the database. I was also running into similar issues when trying to retrieve a specific document from the database.</p><p>The Logic Apps actions I was using included the <em>Delete a document (V2) and Get a document (V2).  </em></p><p>I searched through documentation and found nothing that seemed to give any clear indication as to what the error was. I did some searches using Bing and found other folks who were having similar challenges but I didn't run across any one specific way to fix it. Everyone seemed to just be guessing as to what the issue was. </p><p>In those actions, there are required fields which include Cosmos DB account name, database ID, Collection ID and Document ID.  In most cases you will need to also add the parameter Partition key value in order for the delete or get actions to find the proper document.  In my database, the Document ID and Partition key values are the same. </p><p>My Logic app is acting as a REST API to do basic CRUD (create, read, update and delete) operations.  When a client calls the REST API it passes in a value which is stored as the variable id, which represents the id of the document I wish to get or delete.  Originally I was just taking that id variable and placing it in both the Document ID and partition key value fields in the Logic Apps action. As logical as that sounds, this did not work and I kept getting errors related to the document not being found.</p><p>So what ultimately fixed the issue?  The Partition key value needs to be surrounded by double quotes.  That's it.  Once I placed double quotes around this field, my Logic Apps started functioning correctly.</p><p>Hopefully this little nugget of information comes in handy for someone else who is running into similar challenges with the Cosmos DB actions for Logic Apps.</p><p> </p><p> </p></div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on May 11, 2023</div><div class="post__share"><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fblog.mikehacker.net%2Flogic-app-unable-to-retrieve-record-from-cosmos-db%2F" class="js-share linkedin" title="Share with LinkedIn" rel="nofollow noopener noreferrer" aria-label="Share with LinkedIn"><svg class="u-icon"><use xlink:href="https://blog.mikehacker.net/assets/svg/svg-map.svg#linkedin"/></svg></a></div></aside><footer class="post__footer"><div class="post__bio box"><div><h4 class="h6"><a href="https://blog.mikehacker.net/authors/mike-hacker/" title="Mike Hacker">Mike Hacker</a></h4></div></div><nav class="post__nav box"><div class="post__nav__prev"><a href="https://blog.mikehacker.net/how-to-choose-between-azure-kubernetes-service-or-azure-red-hat-openshift/" class="post__nav__link" rel="prev"><img src="https://blog.mikehacker.net/media/posts/70/responsive/OIG-xs.jpg" loading="lazy" alt="Man trying to make a decision" height="1024" width="1024"><div class="u-small">Previous Post<h5>How to choose between Azure Kubernetes Service or Azure Red Hat OpenShift</h5></div></a></div><div class="post__nav__next"><a href="https://blog.mikehacker.net/migrate-to-modernize/" class="post__nav__link" rel="next"><div class="u-small">Next Post<h5>Migrate to Modernize</h5></div><img src="https://blog.mikehacker.net/media/posts/72/responsive/lf68lk9r-xs.png" loading="lazy" alt="" height="506" width="1024"></a></div></nav><div class="post__related box"><h3 class="box__title">Related posts</h3><div class="post__related-wrap"><figure class="post__related-item"><a href="https://blog.mikehacker.net/on-demand-github-copilot-tips-from-the-field/" class="c-card__image"><img src="https://blog.mikehacker.net/media/posts/81/responsive/reactor-video-IaC-xs.png" loading="lazy" height="1903" width="3789" alt=""></a><figcaption><h4 class="post__related-title"><a href="https://blog.mikehacker.net/on-demand-github-copilot-tips-from-the-field/" class="inverse">On-Demand: GitHub CoPilot Tips from the Field</a></h4><time datetime="2024-04-29T13:53" class="u-small">April 29, 2024</time></figcaption></figure><figure class="post__related-item"><a href="https://blog.mikehacker.net/how-to-use-azure-openai-service-to-unlock-new-insights-from-government-data-and-improve-citizen-services/" class="c-card__image"><img src="https://blog.mikehacker.net/media/posts/74/responsive/AIImage-xs.jpg" loading="lazy" height="669" width="768" alt=""></a><figcaption><h4 class="post__related-title"><a href="https://blog.mikehacker.net/how-to-use-azure-openai-service-to-unlock-new-insights-from-government-data-and-improve-citizen-services/" class="inverse">How to use Azure OpenAI Service to unlock new insights from government data and improve citizen services</a></h4><time datetime="2023-06-13T10:23" class="u-small">June 13, 2023</time></figcaption></figure><figure class="post__related-item"><a href="https://blog.mikehacker.net/article-or-moving-azure-functions-from-aks-to-container-apps/" class="c-card__image"><img src="https://blog.mikehacker.net/media/posts/36/responsive/g0vkbnh738qr8y2mqat8-xs.webp" loading="lazy" height="420" width="1000" alt=""></a><figcaption><h4 class="post__related-title"><a href="https://blog.mikehacker.net/article-or-moving-azure-functions-from-aks-to-container-apps/" class="inverse">Article | Moving Azure Functions from AKS to Container Apps</a></h4><time datetime="2022-01-26T09:47" class="u-small">January 26, 2022</time></figcaption></figure></div></div></footer></article></main><div class="sidebar"><section class="box featured"><h3 class="box__title">Featured</h3><ul class="featured__container"><li class="featured__item"><a href="https://blog.mikehacker.net/exploring-the-openai-o1-model-a-leap-in-ai-capabilities/" class="featured__image-link"><img src="https://blog.mikehacker.net/media/posts/87/responsive/o1-Model-Blog-xs.jpg" class="lazyload" loading="lazy" alt="" height="576" width="576"></a><div><a href="https://blog.mikehacker.net/exploring-the-openai-o1-model-a-leap-in-ai-capabilities/" class="featured__title">Exploring the OpenAI o1 Model: A Leap in AI Capabilities</a> <time class="u-small" datetime="2024-09-23T13:43">September 23, 2024</time></div></li></ul></section><section class="box"><h3 class="box__title">Follow us</h3><div class="follow"><a href="https://www.linkedin.com/in/mphacker/" class="linkedin" aria-label="LinkedIn"><svg class="u-icon"><use xlink:href="https://blog.mikehacker.net/assets/svg/svg-map.svg#linkedin"/></svg> LinkedIn</a></div></section><section class="box authors"><h3 class="box__title">Authors</h3><ul class="authors__cotainer"><li class="authors__item"><div><a href="https://blog.mikehacker.net/authors/mike-hacker/" class="authors__title">Mike Hacker</a> <span class="u-small">Post: 78</span></div></li></ul></section><section class="box"><h3 class="box__title">Tags</h3><ul class="tags"><li><a href="https://blog.mikehacker.net/tags/announcements/">Announcements</a> <span class="u-small">(6)</span></li><li><a href="https://blog.mikehacker.net/tags/articles/">Articles</a> <span class="u-small">(14)</span></li><li><a href="https://blog.mikehacker.net/tags/event/">Events</a> <span class="u-small">(52)</span></li><li><a href="https://blog.mikehacker.net/tags/how-to/">How To</a> <span class="u-small">(2)</span></li><li><a href="https://blog.mikehacker.net/tags/training/">Training</a> <span class="u-small">(6)</span></li></ul></section></div><footer class="footer"><a class="footer__logo" href="https://blog.mikehacker.net/">Mike Hacker</a><nav><ul class="footer__nav"></ul></nav><div class="footer__follow"><a href="https://www.linkedin.com/in/mphacker/" aria-label="LinkedIn"><svg><use xlink:href="https://blog.mikehacker.net/assets/svg/svg-map.svg#linkedin"/></svg></a></div><div class="footer__copyright">Powered by Publii</div></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://blog.mikehacker.net/assets/js/scripts.min.js?v=bb66f1d815180573784f8434c8f0bf78"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script></body></html>